(function(e){function t(t){for(var r,o,s=t[0],u=t[1],c=t[2],f=0,p=[];f<s.length;f++)o=s[f],a[o]&&p.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"0957":function(e,t){},1:function(e,t){},2:function(e,t){},"301e":function(e,t,n){},"31ef":function(e,t,n){},"45d3":function(e,t,n){},"4dbd":function(e,t,n){"use strict";var r=n("31ef"),a=n.n(r);a.a},"57f4":function(e,t,n){"use strict";var r=n("45d3"),a=n.n(r);a.a},"58fd":function(e,t){},6246:function(e,t,n){},"73da":function(e,t,n){"use strict";var r=n("301e"),a=n.n(r);a.a},"82a7":function(e,t,n){},"85ec":function(e,t,n){},"867b":function(e,t,n){"use strict";var r=n("b0ec"),a=n.n(r);a.a},"8eda":function(e,t,n){},"9bc0":function(e,t,n){"use strict";var r=n("8eda"),a=n.n(r);a.a},a00f:function(e,t,n){"use strict";var r=n("e337"),a=n.n(r);a.a},a72d:function(e,t,n){"use strict";var r=n("fa83"),a=n.n(r);a.a},b0ec:function(e,t,n){},c5da:function(e,t){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("MainView")],1)},i=[],o=n("9f12"),s=n("8b83"),u=n("c65a"),c=n("c03e"),l=n("9ab4"),f=n("60a3"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("app-header",{staticClass:"header"}),n("main",{staticClass:"body"},[n("div",{staticClass:"list"},[n("song-chooser",{on:{change:e.handleChange}}),n("song-list",{attrs:{songs:e.songs},on:{select:e.viewDetail}})],1),n("song-detail-view",{staticClass:"detail",attrs:{song:e.detailSong}})],1),n("app-footer",{staticClass:"footer"})],1)},h=[],d=(n("a630"),n("d81d"),n("3ca3"),n("96cf"),n("89ba")),m=n("53fe"),v=n("9aa6"),g=(n("b0c0"),n("99af"),n("4de4"),n("7db0"),n("5db7"),n("caad"),n("73d9"),n("d3b7"),n("2532"),n("ddb0"),n("bf2d"));function b(e){var t,n,r=new FileReader,a=new Promise(function(e,r){t=e,n=r});return r.onload=function(){var e=r.result,n=JSON.parse(e);t(n)},r.onerror=function(){n(r.error)},r.readAsText(e,"utf8"),a}function w(e){var t,n,r=new FileReader,a=new Promise(function(e,r){t=e,n=r});return r.onload=function(){var e=r.result;t(e)},r.onerror=function(){n(r.error)},r.readAsDataURL(e),a}n("4e82"),n("ac1f"),n("5319");var y,j,_,O=n("284c"),x=n("e587");n("0957"),n("c5da"),n("db4a"),n("58fd");function k(e){return R.apply(this,arguments)}function R(){return R=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=new S(t),e.abrupt("return",n.transformTo2_0());case 2:case"end":return e.stop()}},e)})),R.apply(this,arguments)}(function(e){e["ExpertPlus"]="ExpertPlus",e["Expert"]="Expert",e["Hard"]="Hard",e["Normal"]="Nomal",e["Easy"]="Easy"})(y||(y={})),function(e){e["Standard"]="Standard",e["OneSaber"]="OneSaber",e["NoArrows"]="NoArrows"}(j||(j={})),function(e){e["Default"]="DefaultEnvironment",e["Nice"]="NiceEnvironment"}(_||(_={}));var S=function(){function e(t){Object(o["a"])(this,e),this.originFiles=null,this.outputFiles=null,this.originFiles=t}return Object(m["a"])(e,[{key:"transformTo2_0",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i,o,s,u,c,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.originFiles,t){e.next=3;break}throw new Error("file not exist!");case 3:return e.next=5,P(t);case 5:if(n=e.sent,B(n)){e.next=8;break}throw new Error("song version not 1.5.0");case 8:return r=n.difficultyLevels[0],e.next=11,U(t,n.difficultyLevels[0].jsonPath);case 11:return a=e.sent,i={_songName:n.songName,_songSubName:n.songSubName,_songAuthorName:n.authorName,_coverImageFilename:n.coverImagePath,_songFilename:r.audioPath,_beatsPerMinute:n.beatsPerMinute,_version:"2.0.0",_shuffle:0,_shufflePeriod:a._shufflePeriod,_environmentName:n.environmentName||_.Default,_previewDuration:n.previewDuration,_difficultyBeatmapSets:[{_beatmapCharacteristicName:j.Standard,_difficultyBeatmaps:n.difficultyLevels.map(function(e){return{_beatmapFilename:e.jsonPath.replace(/\.json$/,".dat"),_difficulty:e.difficulty,_difficultyRank:2*e.difficultyRank-1,_noteJumpMovementSpeed:a._noteJumpSpeed,_noteJumpStartBeatOffset:0}}).sort(function(e,t){return e._difficultyRank-t._difficultyRank})}],_previewStartTime:n.previewStartTime,_songTimeOffset:0},o=new File([JSON.stringify(i)],"Info.dat"),e.next=16,Promise.all(n.difficultyLevels.map(function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U(l.originFiles,t.jsonPath);case 2:return e.t0=e.sent,e.t1=t.jsonPath,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 16:return e.t0=function(e){var t=Object(x["a"])(e,2),n=t[0],r=t[1];return[{_version:"2.0.0",_events:n._events,_notes:n._notes,_obstacles:n._obstacles},r.replace(/\.json$/,".dat")]},e.t1=function(e){var t=Object(x["a"])(e,2),n=t[0],r=t[1];return new File([JSON.stringify(n)],r)},s=e.sent.map(e.t0).map(e.t1),u=this.originFiles.find(function(e){return e.name==r.audioPath}),c=function(e){return l.originFiles.find(function(t){return e})}(n.coverImagePath),e.abrupt("return",[o,u,c].concat(Object(O["a"])(s)));case 22:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),e}();function C(e){return E.apply(this,arguments)}function E(){return E=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:if(n=e.sent,!$(n)){e.next=7;break}return e.abrupt("return",t);case 7:return e.next=9,k(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)})),E.apply(this,arguments)}function F(e){var t=e.find(function(e){return/^info\./i.test(e.name)});if(!t)throw new Error("can't find info.dat or info.json");return t}function P(e){return N.apply(this,arguments)}function N(){return N=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=F(t),e.next=3,b(n);case 3:if(r=e.sent,A(r)){e.next=6;break}throw new Error("Song Info not valid");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e)})),N.apply(this,arguments)}function A(e){return"object"==Object(g["a"])(e)&&e.songName||e._songName}function $(e){return"_version"in e&&"2.0.0"==e._version}function B(e){return"songName"in e}function M(e){return L.apply(this,arguments)}function L(){return L=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return n=e.sent,r="",r=B(n)?n.coverImagePath:n._coverImageFilename,a=t.find(function(e){return e.name==r})||null,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)})),L.apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return I=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return","");case 5:return e.next=7,w(n);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}},e)})),I.apply(this,arguments)}function D(e){return J.apply(this,arguments)}function J(){return J=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return n=e.sent,r="",r=B(n)?"1.5.0":n._version,e.abrupt("return",r);case 6:case"end":return e.stop()}},e)})),J.apply(this,arguments)}function z(e){return H.apply(this,arguments)}function H(){return H=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return n=e.sent,r=[],B(n)?(a=n.difficultyLevels,r=a.map(function(e){return e.jsonPath})):$(n)&&(i=n._difficultyBeatmapSets,o=i.flatMap(function(e){return e._difficultyBeatmaps}),r=o.map(function(e){return e._beatmapFilename})),s=t.filter(function(e){return r.includes(e.name)}),e.abrupt("return",s);case 7:case"end":return e.stop()}},e)})),H.apply(this,arguments)}function U(e,t){return q.apply(this,arguments)}function q(){return q=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.find(function(e){return e.name==n}),r){e.next=3;break}throw new Error("can't find path "+n);case 3:return e.next=5,b(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)})),q.apply(this,arguments)}function G(e){return V.apply(this,arguments)}function V(){return V=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return n=e.sent,e.next=5,Promise.all(n.map(function(e){return b(e)}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)})),V.apply(this,arguments)}function Z(e){return K.apply(this,arguments)}function K(){return K=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:if(n=e.sent,r=t.find(function(e){return e.name==n._songFilename}),r){e.next=6;break}throw new Error("Audio file not found!");case 6:return e.next=8,w(r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)})),K.apply(this,arguments)}function Q(e){return W.apply(this,arguments)}function W(){return W=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:return n=e.sent,r=new Audio,document.body.append(r),e.abrupt("return",new Promise(function(e,t){r.oncanplaythrough=function(){var t=r.duration,n="".concat(Math.floor(t/60),":").concat(Math.round(t%60));e(n)},r.onerror=function(e){t(e)},r.src=n}));case 6:case"end":return e.stop()}},e)})),W.apply(this,arguments)}n("13d5"),n("fb6a"),n("45fc"),n("466d"),n("1276");var X=n("0b94"),Y=n("7c39"),ee=n.n(Y),te=n("3b02"),ne=function(){function e(t){if(Object(o["a"])(this,e),this.children=[],!t)throw new TypeError("Name can't be empty when creating a folder");this.name=t}return Object(m["a"])(e,[{key:"addItem",value:function(t){if(t instanceof File){if(this.files.some(function(e){return e.name==t.name}))throw new Error("File already exist");this.children.push(t)}else{if(!(t instanceof e))throw new TypeError("Item type invalid");if(this.folders.some(function(e){return e.name==t.name}))throw new Error("Folder already exist");this.children.push(t)}}},{key:"ensureAndGoTo",value:function(t){var n=this.folders.find(function(e){return e.name==t});return n||(n=new e(t),this.addItem(n)),n}},{key:"findFolder",value:function(e){return e(this)?this:this.folders.find(e)}},{key:"files",get:function(){return this.children.filter(function(e){return e instanceof File})}},{key:"folders",get:function(){return this.children.filter(function(t){return t instanceof e})}}]),e}();function re(e){return ae.apply(this,arguments)}function ae(){return ae=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ee.a.loadAsync(t);case 2:return n=e.sent,e.next=5,(new ue).treefy(n);case 5:if(r=e.sent,a=r.findFolder(se),a){e.next=9;break}throw new Error("Can't find a song folder in zip file: "+t.name);case 9:return e.abrupt("return",a.files);case 10:case"end":return e.stop()}},e)})),ae.apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return oe=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.name.split("/").pop(),r=n.replace(/\.egg$/,".ogg"),a=Object(te["getType"])(r),e.next=5,t.async("blob");case 5:return i=e.sent,e.abrupt("return",new File([i],n,Object(X["a"])({},a&&{type:a})));case 7:case"end":return e.stop()}},e)})),oe.apply(this,arguments)}function se(e){var t=e.files;return t.some(function(e){return/^info\.(dat|json)$/i.test(e.name)})}var ue=function(){function e(){Object(o["a"])(this,e),this.tree=new ne("root")}return Object(m["a"])(e,[{key:"treefy",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.files,e.t0=regeneratorRuntime.keys(n);case 2:if((e.t1=e.t0()).done){e.next=14;break}if(r=e.t1.value,a=n[r],!a.dir){e.next=10;break}return e.next=8,this.ensurePath(r);case 8:e.next=12;break;case 10:return e.next=12,this.ensureAddFile(r,a);case 12:e.next=2;break;case 14:return e.abrupt("return",this.tree);case 15:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"ensurePath",value:function(e){return e.split("/").slice(0,-1).reduce(function(e,t){return e.ensureAndGoTo(t)},this.tree)}},{key:"ensureAddFile",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"/",r=t.match(/^(.*?\/)(?=[^\/]*$)/)||[null],a=Object(x["a"])(r,1),i=a[0],o=this.tree,i&&(o=this.ensurePath(i)),e.t0=o,e.next=7,ie(n);case 7:e.t1=e.sent,e.t0.addItem.call(e.t0,e.t1);case 9:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"addItem",value:function(e,t){for(var n=e.split("/"),r=0;r<n.length-1;r++)this.tree.ensureAndGoTo(n[r])}}]),e}(),ce=function(){function e(t){Object(o["a"])(this,e),this.cover=t.cover,this.version=t.version,this.audio=t.audio,this.info=t.info,this.time=t.time,this.files=t.files,this.levels=t.levels.map(function(e){return{noteCount:e._notes.length,obstacleCount:e._obstacles.length}}),this.name=this.info._songName,this.author=this.info._songAuthorName,this.bpm=this.info._beatsPerMinute}return Object(m["a"])(e,null,[{key:"createFromZip",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:return n=e.sent,e.next=5,this.createFromFolder(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"createFromFolder",value:function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(n){var r,a,i,o,s,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D(n);case 2:return r=t.sent,t.next=5,C(n);case 5:return n=t.sent,t.next=8,T(n);case 8:return a=t.sent,t.next=11,Z(n);case 11:return i=t.sent,t.next=14,P(n);case 14:return o=t.sent,t.next=17,G(n);case 17:return s=t.sent,t.next=20,Q(n);case 20:return u=t.sent,t.abrupt("return",new e({cover:a,version:r,audio:i,info:o,levels:s,time:u,files:n}));case 22:case"end":return t.stop()}},t)}));function n(e){return t.apply(this,arguments)}return n}()}]),e}(),le=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h1",[e._v(" Beat Saber Version Transformer ")])])}],pe={},he=pe,de=(n("a00f"),n("2877")),me=Object(de["a"])(he,le,fe,!1,null,"290ef9e5",null),ve=me.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"song-chooser"},[e._v(" 📁choose songs "),n("input",{staticClass:"file-selector",attrs:{multiple:"",type:"file",accept:".zip"},on:{change:e.handleChange}})])},be=[],we={methods:{handleChange:function(e){this.$emit("change",e)}}},ye=we,je=(n("867b"),Object(de["a"])(ye,ge,be,!1,null,null,null)),_e=je.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"song-list"},[e.songs.length?e._e():n("li",{staticClass:"song-list-placeholder"},[e._v(" Nothing choosed ")]),e._l(e.songs,function(t,r){return n("song-list-item",{key:r,staticClass:"song-item",attrs:{song:t},on:{click:function(t){return e.handleSelect(r)}}})}),e.songs.length?n("BeatButton",{staticClass:"song-list-button",on:{click:e.transformAll}},[e._v("transform all")]):e._e(),n("BeatModal",{attrs:{isShow:e.isShowLoading}},[e._v("Proccessing...")])],2)},xe=[];n("4160"),n("159b"),n("2b3d");function ke(e){var t=document.createElement("a"),n=URL.createObjectURL(e);t.href=n,t.download=e instanceof File?e.name:"download",t.click(),URL.revokeObjectURL(n)}var Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"song-item",on:{click:function(t){return e.$emit("click")}}},[n("img",{staticClass:"song-cover",attrs:{src:e.song.cover,alt:e.song.name}}),n("h2",{staticClass:"song-name"},[e._v(e._s(e.song.name))]),n("p",{staticClass:"song-author"},[e._v(e._s(e.song.author))]),n("div",{staticClass:"song-version"},[e._v(e._s(e.song.version))])])},Se=[],Ce=function(e){function t(){return Object(o["a"])(this,t),Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(f["c"]);l["a"]([Object(f["b"])(ce)],Ce.prototype,"song",void 0),Ce=l["a"]([f["a"]],Ce);var Ee=Ce,Fe=Ee,Pe=(n("fcc6"),Object(de["a"])(Fe,Re,Se,!1,null,"4b892fcd",null)),Ne=Pe.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",e._g({staticClass:"beat-button"},e.$listeners),[n("div",{staticClass:"beat-button-inner"},[e._t("default")],2)])},$e=[],Be={},Me=Be,Le=(n("d22a"),Object(de["a"])(Me,Ae,$e,!1,null,"fd8f80a4",null)),Te=Le.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dialog",{ref:"dialog",on:{cancel:function(e){e.preventDefault()}}},[e._t("default")],2)},De=[],Je=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).call(this)),e.isShow=!1,e}return Object(c["a"])(t,e),t}(r["a"]);Je=l["a"]([Object(f["a"])({props:{isShow:{type:Boolean,default:!1}},watch:{isShow:function(e,t){var n=this.$refs.dialog;"function"==typeof n.showModal&&(e?n.showModal():n.close())}}})],Je);var ze=Je,He=ze,Ue=(n("57f4"),Object(de["a"])(He,Ie,De,!1,null,"33b807f4",null)),qe=Ue.exports,Ge=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isShowLoading=!1,e}return Object(c["a"])(t,e),Object(m["a"])(t,[{key:"handleSelect",value:function(e){var t=this.songs[e];if(t)return this.$emit("select",t);throw new Error("Song of index not Exist.")}},{key:"transformAll",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isShowLoading=!0,e.prev=1,t=new ee.a,this.songs.forEach(function(e){var n=t.folder(e.name);e.files.forEach(function(e){return n.file(e.name,e)})}),e.t0=File,e.next=7,t.generateAsync({type:"blob"});case 7:e.t1=e.sent,e.t2=[e.t1],e.t3="".concat(this.songs[0].name," and other ").concat(this.songs.length," songs.zip"),n=new e.t0(e.t2,e.t3),this.isShowLoading=!1,ke(n);case 13:return e.prev=13,this.isShowLoading=!1,e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,,13,16]])}));function t(){return e.apply(this,arguments)}return t}()}]),t}(f["c"]);l["a"]([Object(f["b"])()],Ge.prototype,"songs",void 0),Ge=l["a"]([Object(f["a"])({components:{SongListItem:Ne,BeatButton:Te,BeatModal:qe},props:{songs:{type:Array,required:!0}}})],Ge);var Ve=Ge,Ze=Ve,Ke=(n("9bc0"),Object(de["a"])(Ze,Oe,xe,!1,null,"174705b4",null)),Qe=Ke.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"song-detail-view"},[e.song?[n("div",{staticClass:"song-info"},[n("img",{staticClass:"song-cover",attrs:{src:e.song.cover,alt:""}}),n("h3",{staticClass:"song-name"},[e._v(e._s(e.song.name))]),n("p",{staticClass:"song-author"},[e._v(e._s(e.song.author))]),n("p",{staticClass:"song-attr-list"},[n("span",{staticClass:"song-attr-item"},[e._v("Time: "+e._s(e.song.time))]),n("span",{staticClass:"song-attr-item"},[e._v("BPM: "+e._s(e.song.bpm))])]),n("audio",{staticClass:"song-audio",attrs:{controls:"",src:e.song.audio}})]),n("BeatButton",{staticClass:"action-btns",on:{click:e.transform}},[e._v("transform song")]),n("div",{staticClass:"level-info"})]:n("div",{staticClass:"detail-placeholder"},[e._v(" Nothing select ")])],2)},Xe=[],Ye=function(e){function t(){return Object(o["a"])(this,t),Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(m["a"])(t,[{key:"transform",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new ee.a,n=t.folder(this.song.name),this.song.files.forEach(function(e){return n.file(e.name,e)}),e.t0=File,e.next=6,t.generateAsync({type:"blob"});case 6:e.t1=e.sent,e.t2=[e.t1],e.t3="".concat(this.song.name,".zip"),r=new e.t0(e.t2,e.t3),ke(r);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(f["c"]);l["a"]([Object(f["b"])(ce)],Ye.prototype,"song",void 0),Ye=l["a"]([Object(f["a"])({components:{BeatButton:Te},props:{song:{required:!0}}})],Ye);var et=Ye,tt=et,nt=(n("a72d"),Object(de["a"])(tt,We,Xe,!1,null,"74dda1dc",null)),rt=nt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",[n("p",{staticClass:"tip"},[e._v(" Open an issue if you have any question or advice using this tool. ")]),n("github-button",{attrs:{href:"https://github.com/xlfsummer/beat-saber-version-transformer","data-size":"large","data-show-count":"true","aria-label":"xlfsummer/beat-saber-version-transformer"}},[e._v("Star")])],1)},it=[],ot=n("e878"),st={components:{GithubButton:ot["a"]}},ut=st,ct=(n("73da"),Object(de["a"])(ut,at,it,!1,null,"e0cc08f2",null)),lt=ct.exports,ft=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).call(this)),e.files=null,e.songs=[],e.detailSong=null,e.handleChange=e.handleChange.bind(Object(v["a"])(e)),e}return Object(c["a"])(t,e),Object(m["a"])(t,[{key:"handleChange",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.target,n.files&&n.files.length){e.next=3;break}return e.abrupt("return");case 3:r=this.files=Array.from(n.files),r.map(function(e){return ce.createFromZip(e).then(function(e){return a.songs.push(e)})});case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"viewDetail",value:function(e){this.detailSong=e}}]),t}(f["c"]);ft=l["a"]([Object(f["a"])({components:{AppHeader:ve,SongChooser:_e,SongList:Qe,SongDetailView:rt,AppFooter:lt},data:function(){return{files:null,songs:[],detailSong:null}}})],ft);var pt=ft,ht=pt,dt=(n("4dbd"),Object(de["a"])(ht,p,h,!1,null,"626842b0",null)),mt=dt.exports,vt=function(e){function t(){return Object(o["a"])(this,t),Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(f["c"]);vt=l["a"]([Object(f["a"])({components:{MainView:mt}})],vt);var gt=vt,bt=gt,wt=(n("034f"),Object(de["a"])(bt,a,i,!1,null,null,null)),yt=wt.exports,jt=n("2f62");r["a"].use(jt["a"]);var _t=new jt["a"].Store({state:{},mutations:{},actions:{}}),Ot=function(){function e(){Object(o["a"])(this,e)}return Object(m["a"])(e,null,[{key:"init",value:function(){var e=this;window.onerror=function(t){t instanceof Event&&e.errorHandler(t)},window.onunhandledrejection=function(t){e.errorHandler(t.reason)}}},{key:"errorHandler",value:function(e){var t=navigator.language,n="Copy following message to help debug：";"zh-CN"==t&&(n="程序遇到错误，复制下列错误信息给开发者以帮助调试："),e instanceof Error&&window.prompt(n,e.message+" strack:"+e.stack),console.error(e)}}]),e}(),xt=n("9483");Object(xt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),Ot.init(),r["a"].config.productionTip=!1,new r["a"]({store:_t,render:function(e){return e(yt)}}).$mount("#app")},d22a:function(e,t,n){"use strict";var r=n("82a7"),a=n.n(r);a.a},db4a:function(e,t){},e337:function(e,t,n){},fa83:function(e,t,n){},fcc6:function(e,t,n){"use strict";var r=n("6246"),a=n.n(r);a.a}});
//# sourceMappingURL=app.c2b67bfa.js.map